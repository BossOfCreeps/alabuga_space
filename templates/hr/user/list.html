{% extends "hr/base.html" %}
{% load django_bootstrap5 %}
{% block content %}
    <div class="container">
        <table class="table table-bordered" id="example">
            <thead>
                <tr>
                    <th>Пользователь</th>
                    <th>ФИО</th>
                    <th>Почта</th>
                    <th>Ранг</th>
                    <th>Опыт</th>
                    <th>Мана</th>
                </tr>
            </thead>
            <tbody>
                {% for user in object_list %}
                    <tr>
                        <td>{{ user.username }}</td>
                        <td>{{ user.get_full_name }}</td>
                        <td>{{ user.email }}</td>
                        <td>{{ user.rank }}</td>
                        <td>{{ user.experience }}</td>
                        <td>{{ user.mana }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}
{% block scripts %}
    <script>
            $(document).ready(function() {
                new DataTable('#example', {
                    responsive: true,
                    language: {url: 'https://cdn.datatables.net/plug-ins/2.3.4/i18n/ru.json',},
                    columnDefs: [
                        {
                            responsivePriority: 1,
                            targets: [0, 3]
                        },
                        {
                            responsivePriority: 100,
                            targets: [1, 2, 4, 5]
                        },
                        {
                            targets: [0,1,2,3,4,5],
                            columnControl: {
                                target: 0,
                                className: 'dtcc-row_no-bottom-border',
                                content: [['orderAsc', 'orderDesc', 'spacer', 'searchList']]
                            }
                        },
                    ],
                    ordering: false,
                    paging: false,
                    searching: false,
                    info: false,
                });
        });
    </script>
{% endblock %}
