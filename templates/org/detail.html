{% extends "org/base.html" %}
{% load django_bootstrap5 %}
{% block title %}{{ object.name }}{% endblock %}
{% block content %}
    <div class="container">
        <table class="table table-bordered" id="example">
            <thead>
                <tr>
                    <th>Пользователь</th>
                    <th>Действия</th>
                </tr>
            </thead>
            <tbody>
                {% for user in users %}
                    <tr>
                        <td>{{ user }}</td>
                        <td>
                            {% if object not in user.missions.all %}
                                <a href="{% url 'org-mission-check' object.id %}?user_id={{ user.id }}"
                                   class="btn btn-primary">
                                    <i class="fa fa-check"></i>
                                </a>
                            {% endif %}
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}
{% block scripts %}
    <script>
        $(document).ready(function() {
            new DataTable('#example', {
                responsive: true,
                language: {url: 'https://cdn.datatables.net/plug-ins/2.3.4/i18n/ru.json',},
                columnDefs: [
                    {
                        targets: [0],
                        columnControl: {
                            target: 0,
                            className: 'dtcc-row_no-bottom-border',
                            content: [['orderAsc', 'orderDesc', 'spacer', 'searchList']]
                        }
                    },
                    { width: '1px', targets: -1 }
                ],
                ordering: false,
                paging: false,
                searching: false,
                info: false,
            });
        });
    </script>
{% endblock %}
